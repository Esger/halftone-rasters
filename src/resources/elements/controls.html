<template class="${dimmed ? 'dimmed' : ''}">
	<require from="./controls.css"></require>

	<h1>CSS Halftone Rasters</h1>
	<h2>&amp; Moiré Playground</h2>

	<section>
		<fieldset>
			<label for="map">Map</label>
			<select value.bind="selectedMap"
					id="map"
					change.trigger="mapChanged(selectedMap)">
				<option repeat.for="map of maps"
						model.bind="map">${map.value}
				</option>
			</select>
		</fieldset>

		<fieldset if.bind="selectedMap.value == 'image'">
			<label for="file">Image</label>
			<input type="file"
					id="file"
					change.trigger="fileChanged($event)"
					accept="image/*"></label>
			<label for="file">${selectedFile || 'choose file'}</label>
		</fieldset>

		<fieldset if.bind="selectedMap.value == 'image'">
			<label for="grayscale">Grayscale</label>
			<input type="checkbox"
				data-grayscale.bind="grayscale"
				checked.bind="grayscale"
				change.trigger="settingChanged('grayscale', grayscale)"
				id="grayscale">
		</fieldset>

		<fieldset if.bind="!['conical', 'image'].includes(selectedMap.value.toLowerCase())">
			<label for="mapSize">Size: ${mapSize}vmax</label>
			<input type="range"
				id="mapSize"
				autofocus
				step=".5"
				min=".5"
				max="100"
				value.bind="mapSize"
				input.trigger="settingChanged('map-size', mapSize)">
		</fieldset>

		<fieldset if.bind="selectedRaster.value == 'conical'">
			<label for="mapSlices">Slices: ${mapSlices}</label>
			<input type="range"
				step="1"
				min="1"
				max="100"
				value.bind="mapSlices"
				id="mapSlices"
				input.trigger="settingChanged('map-slices', mapSlices)">
		</fieldset>

	</section>

	<section>
		<fieldset>
			<label for="raster">Raster</label>
			<select value.bind="selectedRaster"
					id="raster"
					change.trigger="rasterChanged(selectedRaster)">
				<option repeat.for="raster of rasters"
						model.bind="raster">${raster.value}
				</option>
			</select>
		</fieldset>

		<fieldset>
			<label for="interactiveRaster">Interactive</label>
			<input type="checkbox"
					checked.bind="interactiveRaster"
					change.trigger="settingChanged('interactive-raster', interactiveRaster)"
					id="interactiveRaster">
		</fieldset>

		<fieldset if.bind="!['conical'].includes(selectedRaster.value.toLowerCase())">
			<label for="rasterSize">Size: ${rasterSize}vmax</label>
			<input type="range"
					id="rasterSize"
					step=".5"
					min=".5"
					max="100"
					disabled.bind="interactiveRaster"
					value.bind="rasterSize"
					input.trigger="settingChanged( 'raster-size', rasterSize)">
		</fieldset>

		<fieldset if.bind="selectedRaster.value == 'conical'">
			<label for="rasterSlices">Slices: ${rasterSlices}</label>
			<input type="range"
					step="1"
					min="1"
					max="100"
					disabled.bind="interactiveRaster"
					value.bind="rasterSlices"
					id="rasterSlices"
					input.trigger="settingChanged( 'raster-slices', rasterSlices)">
		</fieldset>

		<fieldset if.bind="['lined','dotted'].includes(selectedRaster.value.toLowerCase())"
				  data-value="${selectedRaster.value.toLowerCase()}">
			<label for="rasterAngle">Angle: ${rasterAngle}°</label>
			<input type="range"
					step=".1"
					min="0"
					max="90"
					disabled.bind="interactiveRaster"
					value.bind="rasterAngle"
					id="rasterAngle"
					input.trigger="settingChanged('raster-angle', rasterAngle)">
		</fieldset>

	</section>

	<p class="credits">Credits to <a href="https://frontendmasters.com/blog/pure-css-halftone-effect-in-3-declarations/">Ana Tudor for the CSS Halftone Rasters</a> techniques.</p>

</template>
